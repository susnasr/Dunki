function updateLayout(){function e(e){let t=e;e===THEME_MODES.SYSTEM&&(t=window.matchMedia("(prefers-color-scheme: dark)").matches?THEME_MODES.DARK:THEME_MODES.LIGHT),document.documentElement.setAttribute(ATTRIBUTES.THEME,t),sessionStorage.setItem(ATTRIBUTES.THEME,e)}function t(e,t){document.querySelectorAll(`[data-attribute="${e}"]`).forEach((n=>{const s=n.nextElementSibling;s&&s.classList.contains("switcher-card")?s.classList.remove("active"):"data-font-body"===e||"data-font-heading"===e?n.value=t:n.closest(".list-group-item")?.classList.contains("form-check")&&n.closest(".list-group-item")?.classList.remove("active")}));const n=document.querySelector(`[data-attribute="${e}"][value="${t}"]`);if(n){const s=n.nextElementSibling;s&&s.classList.contains("switcher-card")?s.classList.add("active"):"data-font-body"===e||"data-font-heading"===e?n.value=t:n.closest(".list-group-item")?.classList.contains("form-check")&&n.closest(".list-group-item")?.classList.add("active")}}function n(){Object.keys(ATTRIBUTES).forEach((e=>{const n=ATTRIBUTES[e],o=sessionStorage.getItem(n)||DEFAULT_VALUES[n];document.documentElement.setAttribute(n,o),"AUTH_LAYOUT"!==n&&sessionStorage.setItem(n,o),t(n,o),n===ATTRIBUTES.MAIN_LAYOUT&&"horizontal"===o?document.getElementById("sidebarMenu")?.classList.add("container-fluid"):n===ATTRIBUTES.MAIN_LAYOUT&&document.getElementById("sidebarMenu")?.classList.remove("container-fluid"),n!==ATTRIBUTES.MAIN_LAYOUT||"vertical"!==o&&"two-column"!==o||s(),n===ATTRIBUTES.DIRECTION_MODE&&updateLayoutDirection(o)})),e(sessionStorage.getItem(ATTRIBUTES.THEME)||DEFAULT_VALUES[ATTRIBUTES.THEME])}function s(){setTimeout((()=>{const e=document.getElementById("sidebarMenu");if(e){const t=document.getElementById("all-menu-items");t&&(e.innerHTML=t.parentElement.innerHTML),e.classList.add("simplebar"),window.SimpleBar&&(new SimpleBar(e),dropdownInit())}}),100)}function o(n,o){n===ATTRIBUTES.MAIN_LAYOUT&&("vertical"===o||"two-column"===o?(s(),setTimeout((()=>{findActiveMenu(o)}),0)):setTimeout((()=>{setTimeout((()=>{const e=document.getElementById("sidebarMenu");if(e&&e.classList.contains("simplebar")&&window.SimpleBar){const t=SimpleBar.instances.get(e);if(t){t.unMount();const n=document.getElementById("all-menu-items");n&&(e.innerHTML=n.parentElement.innerHTML),dropdownInit()}}}),500)}),0),"horizontal"===o?document.getElementById("sidebarMenu")?.classList.add("container-fluid"):document.getElementById("sidebarMenu")?.classList.remove("container-fluid")),"AUTH_LAYOUT"!==n&&sessionStorage.setItem(n,o),document.documentElement.setAttribute(n,o),n===ATTRIBUTES.DIRECTION_MODE&&updateLayoutDirection(o),n===ATTRIBUTES.THEME&&e(o),t(n,o)}function i(){Object.keys(DEFAULT_VALUES).forEach((e=>{o(e,DEFAULT_VALUES[e])}))}function a(){var e=document.getElementById("preloader");e&&"hidden"!==ATTRIBUTES.PAGE_LOADER?setTimeout((function(){e.classList.add("hidden")}),1500):e?.classList.add("hidden")}function c(){if(a(),!1===DEFAULT_VALUES.AUTH_LAYOUT){n(),function(){const e=document.getElementById("switcher");e&&e.addEventListener("change",(e=>{const n=e.target,s=n.getAttribute("data-attribute");if(!s)return;const i=n.value;o(s,i),t(s,i)}))}();const e=document.getElementById("resetSettings");e&&e.addEventListener("click",i)}window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",(t=>{sessionStorage.getItem(ATTRIBUTES.THEME)===THEME_MODES.SYSTEM&&e(THEME_MODES.SYSTEM)}))}updateLayoutDirection=e=>{setTimeout((()=>{const t=document.getElementById("bootstrap-style"),n=document.getElementById("app-style"),s=document.getElementById("custom-style");null!==t&&null!==n&&("rtl"===e?(t.href=t.href.replace("bootstrap.min.css","bootstrap-rtl.min.css"),n.href=n.href.replace("app.min.css","app-rtl.min.css"),s.href=s.href.replace("custom.min.css","custom-rtl.min.css")):(t.href=t.href.replace("bootstrap-rtl.min.css","bootstrap.min.css"),n.href=n.href.replace("app-rtl.min.css","app.min.css"),s.href=s.href.replace("custom-rtl.min.css","custom.min.css")))}),100)},setTimeout((()=>{const e=document.querySelector(".sidebar-toggle"),t=document.querySelector(".small-screen-horizontal-toggle"),n=document.documentElement,s=document.querySelector(".app-sidebar"),i=document.querySelector(".horizontal-overlay");e?.addEventListener("click",(()=>{o("data-main-layout","small-icon"===n.getAttribute("data-main-layout")?"vertical":"small-icon")})),t?.addEventListener("click",(()=>{s.classList.toggle("show"),i.classList.toggle("show")}))}),100),document.addEventListener("DOMContentLoaded",(()=>{c();const n=document.getElementById("light-theme"),s=document.getElementById("dark-theme"),o=document.getElementById("system-theme");n?.addEventListener("click",(()=>{e(THEME_MODES.LIGHT),t("data-bs-theme","light")})),s?.addEventListener("click",(()=>{e(THEME_MODES.DARK),t("data-bs-theme","dark")})),o?.addEventListener("click",(()=>{e(THEME_MODES.SYSTEM),t("data-bs-theme","auto")}))})),!1===DEFAULT_VALUES.AUTH_LAYOUT?(c(),n(),window.addEventListener("resize",(function(){const e=sessionStorage.getItem("data-main-layout");e&&"horizontal"!==e&&(window.innerWidth<768.99?sessionStorage.setItem(ATTRIBUTES.MAIN_LAYOUT,"close-sidebar"):window.innerWidth<1250?sessionStorage.setItem(ATTRIBUTES.MAIN_LAYOUT,"small-icon"):sessionStorage.setItem(ATTRIBUTES.MAIN_LAYOUT,"vertical"),document.documentElement.setAttribute(ATTRIBUTES.MAIN_LAYOUT,sessionStorage.getItem(ATTRIBUTES.MAIN_LAYOUT)))}))):(document.documentElement.setAttribute("data-main-layout","close-sidebar"),document.documentElement.setAttribute("data-nav-position","hidden")),a()}updateLayout();