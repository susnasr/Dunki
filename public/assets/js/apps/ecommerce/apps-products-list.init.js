"use strict";document.addEventListener("DOMContentLoaded",(function(){if(document.querySelector("#productListTabContent")){let e=[],t=[],n=[];fetch("assets/json/products-list.json").then((e=>e.json())).then((s=>{e=s.all||[],t=e.filter((e=>!0===e.published)),n=e.filter((e=>!1===e.published));const i=a("allProductsTable",e),c=a("publicProductsTable",t),l=a("draftProductsTable",n);document.querySelectorAll(".nav-link").forEach((a=>{a.addEventListener("click",(function(){const r=a.getAttribute("aria-controls");"pills-all-products"===r?i.clear().rows.add(e).draw():"pills-public-products"===r?c.clear().rows.add(t).draw():"pills-draft-products"===r&&l.clear().rows.add(n).draw()}))})),r(i),r(c),r(l)})).catch((e=>{console.error("Error loading JSON data:",e)}));const a=(e,t)=>new DataTable(`#${e}`,{data:t,columns:[{data:"id"},{data:"image"},{data:"sku"},{data:"price"},{data:"category"},{data:"tags"},{data:"qty"},{data:"rating"},{data:"vendor"},{data:"published"},{data:"Actions"}],columnDefs:[{targets:0,orderable:!1,searchable:!1,checkboxes:{selectRow:!0,selectAllRender:'<input type="checkbox" class="form-check-input">'},render:function(){return'<input type="checkbox" class="dt-checkboxes form-check-input">'}},{targets:1,render:function(e,t,n){return`\n                                <div class="d-flex align-items-center">\n                                    <div class="avatar-item avatar overflow-hidden me-2">\n                                        <img src="${e}" alt="Product Image" class="img-fluid">\n                                    </div>\n                                    <a href="apps-product-details.html" class="text-body fw-medium">${n.name}</a>\n                                </div>`}},{targets:2,render:function(e){return e}},{targets:3,render:function(e){return`$${e.toFixed(2)}`}},{targets:4,render:function(e){return e}},{targets:5,render:function(e){return`<div class="d-flex gap-1 max-w-320px">${e.map((e=>`<span class="badge bg-light text-muted">${e}</span>`)).join(" ")}</div>`}},{targets:6,render:function(e){return e}},{targets:7,render:function(e){return`<span class="badge bg-warning-subtle text-warning fs-12 fw-medium hstack gap-1 w-max"><i class="ri-star-fill text-warning"></i>${e}</span>`}},{targets:8,render:function(e){return e}},{targets:9,render:function(e){return e?'<span class="badge bg-success">Published</span>':'<span class="badge bg-danger">Unpublished</span>'}},{targets:10,searchable:!1,orderable:!1,render:function(){return'\n                            <div class="hstack gap-2 fs-15">\n                                <a href="apps-product-details.html" class="btn icon-btn-sm btn-light-primary">\n                                    <i class="ri-eye-line"></i>\n                                </a>\n                                <a href="#!" class="btn icon-btn-sm btn-light-danger delete-item">\n                                    <i class="ri-delete-bin-line"></i>\n                                </a>\n                            </div>\n                        '}}],order:[[3,"asc"]],paging:!0,language:{sLengthMenu:"Show _MENU_",search:"",searchPlaceholder:"Search Products",paginate:{next:'<i class="ri-arrow-right-s-line"></i>',previous:'<i class="ri-arrow-left-s-line"></i>'}},tableLayout:"fixed",lengthMenu:[10,20,50],dom:'<"table-responsive"t><"p-4 d-flex flex-column flex-sm-row justify-content-between align-items-center gap-2"i<"d-flex align-items-sm-center justify-content-end gap-4">p>'});function r(e){e.table().node().addEventListener("click",(function(t){if(t.target.classList.contains("delete-item")){const n=t.target.closest("tr");Swal.fire({title:"Are you sure?",text:"This action will delete the record permanently.",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, delete it!",cancelButtonText:"Cancel",reverseButtons:!0}).then((t=>{t.isConfirmed&&e.row(n).remove().draw()}))}}))}}}));