"use strict";document.addEventListener("DOMContentLoaded",(function(){const e=document.querySelector(".dt-project-list");if(e){const t=new DataTable(e,{ajax:"assets/json/project-list.json",columns:[{data:"projectName"},{data:"projectName"},{data:"leader"},{data:"team"},{data:"dueDate"},{data:"priority"},{data:"updated"},{data:"status"},{data:"action"}],columnDefs:[{targets:0,orderable:!1,checkboxes:{selectAllRender:'<input type="checkbox" class="form-check-input">'},render:function(){return'<input type="checkbox" class="dt-checkboxes form-check-input">'},searchable:!1},{targets:1,render:function(e,t,n){return`\n                            <div class="d-flex flex-column">\n                                <a href="apps-projects-overview.html">\n                                    <p class="mb-0 fw-medium text-truncate overflow-hidden max-w-384px">${n.projectName}</p>\n                                </a>\n                                <small class="text-truncate">${n.updated}</small>\n                            </div>\n                        `}},{targets:2,orderable:!1,render:function(e,t,n){return`\n                            <img src="${n.leader[0].image}" alt="Avatar" class="img-fuild avatar-sm">\n                        `}},{targets:3,orderable:!1,render:function(e,t,n){return`\n                            <div class="avatar-group">\n                                ${(Array.isArray(n.team)?n.team:[n.team]).map((e=>`\n                                    <img src="${e.image}" alt="Avatar" class="img-fluid avatar-sm avatar-item cursor-pointer" data-bs-toggle="tooltip" data-bs-custom-class="tooltip-white" data-bs-placement="top" data-bs-title="${e.userName}">\n                                `)).join("")}\n                            </div>\n                        `}},{targets:5,render:function(e,t,n){return{High:`<span class="badge bg-danger text-uppercase">${n.priority}</span>`,Medium:`<span class="badge bg-warning text-uppercase">${n.priority}</span>`,Low:`<span class="badge bg-info text-uppercase">${n.priority}</span>`}[n.priority]||`<span class="badge bg-light">${n.priority}</span>`}},{targets:6,render:function(e,t,n){return{Todo:`<span class="badge bg-info-subtle text-info">${n.status}</span>`,"In Progress":`<span class="badge bg-primary-subtle text-primary">${n.status}</span>`,Completed:`<span class="badge bg-success-subtle text-success">${n.status}</span>`}[n.status]||`<span class="badge bg-light">${n.status}</span>`}},{targets:7,render:function(e,t,n){return`\n                            <div class="hstack gap-2">\n                                <span class="fs-12 ${100===n.completion?"text-success fw-medium":""}">${n.completion}%</span>\n                                <div class="progress progress-xs min-w-100px">\n                                    <div class="progress-bar ${100===n.completion?"bg-success":"bg-primary"}" role="progressbar" style="width: ${n.completion}%" aria-valuenow="${n.completion}" aria-valuemin="0" aria-valuemax="100"></div>\n                                </div>\n                            </div>\n                        `}},{targets:8,searchable:!1,orderable:!1,render:function(){return'\n                        <div class="hstack gap-2 fs-15">\n                            <a href="apps-projects-create.html" class="btn icon-btn-sm btn-light-primary">\n                                <i class="ri-pencil-line"></i>\n                            </a>\n                            <a href="#!" class="btn icon-btn-sm btn-light-danger delete-item">\n                                <i class="ri-delete-bin-line"></i>\n                            </a>\n                        </div>\n                    '}}],order:[[1,"desc"]],dom:'<"card-header dt-head d-flex flex-column flex-sm-row justify-content-between align-items-center gap-3"<"head-label"><"d-flex flex-column flex-sm-row align-items-sm-center justify-content-end gap-3 w-100"f<"task_filter"><"export_button">>><"table-responsive"t><"card-footer d-flex flex-column flex-sm-row justify-content-between align-items-center gap-2"i<"d-flex align-items-sm-center justify-content-end gap-4">p>',buttons:[{extend:"copy",text:"Copy",className:"dropdown-item"},{extend:"csv",text:"CSV",className:"dropdown-item"},{extend:"excel",text:"Excel",className:"dropdown-item"},{extend:"print",text:"Print",className:"dropdown-item"}],language:{sLengthMenu:"Show _MENU_",search:"",searchPlaceholder:"Search Project",paginate:{next:'<i class="ri-arrow-right-s-line"></i>',previous:'<i class="ri-arrow-left-s-line"></i>'},info:"Showing _START_ - _END_ of _TOTAL_ Results",infoEmpty:"No tasks available",infoFiltered:"(filtered from _MAX_ total tasks)"},lengthMenu:[10,20,50],pageLength:10,initComplete:function(){const e=document.querySelector(".export_button");e.innerHTML='\n                    <div class="dropdown">\n                        <button class="btn btn-primary dropdown-toggle w-100 w-sm-max" type="button" id="exportDropdown" data-bs-toggle="dropdown" aria-expanded="false">Export</button>\n                        <ul class="dropdown-menu" aria-labelledby="exportDropdown">\n                            \x3c!-- Export buttons will be appended here --\x3e\n                        </ul>\n                    </div>\n                ';const n=e.querySelector(".dropdown-menu");this.api().buttons().container().appendTo(n),document.querySelector(".task_filter").innerHTML='\n                    <div class="dropdown">\n                        <button type="button" class="btn btn-light w-100 w-sm-max text-nowrap" id="usersFilterDropdown" data-bs-toggle="dropdown" data-bs-auto-close="outside" aria-expanded="false">\n                            <i class="bi-filter me-1"></i>Filter\n                        </button>\n\n                        <div class="dropdown-menu p-0 min-w-300px max-w-384px" aria-labelledby="usersFilterDropdown">\n                            <div class="card border-0 mb-0">\n                                <div class="card-body">\n                                    <form>\n                                        <div class="mb-3">\n                                            <label class="form-label" for="member-positions0">Role</label>\n                                            <div class="d-flex">\n                                                <div class="form-check w-50">\n                                                    <input class="form-check-input" type="checkbox" id="usersFilterCheckAll" checked>\n                                                    <label class="form-check-label" for="usersFilterCheckAll">All</label>\n                                                </div>\n                                                <div class="form-check w-50">\n                                                    <input class="form-check-input" type="checkbox" id="usersFilterCheckEmployee">\n                                                    <label class="form-check-label" for="usersFilterCheckEmployee">Employee</label>\n                                                </div>\n                                            </div>\n                                        </div>\n                                        <div class="mb-3">\n                                            <label class="form-label" for="member-positions">Priority</label>\n                                            <select class="form-select form-select-sm" id="member-positions">\n                                                <option value="High">High</option>\n                                                <option value="Medium">Medium</option>\n                                                <option value="Low">Low</option>\n                                            </select>\n                                        </div>\n                                        <div>\n                                            <label class="form-label" for="project-status">Status</label>\n                                            <select class="form-select form-select-sm" id="project-status">\n                                                <option value="Any status">Any status</option>\n                                                <option value="To do">To do</option>\n                                                <option value="In progress">In progress</option>\n                                                <option value="Completed">Completed</option>\n                                            </select>\n                                        </div>\n                                    </form>\n                                </div>\n                                <div class="card-footer text-end d-flex align-items-center gap-3 flex-wrap">\n                                    <button class="btn btn-primary">Apply</button>\n                                    <button class="btn btn-light">Cancel</button>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                ',document.querySelector("div.head-label").innerHTML='<h5 class="card-title text-nowrap mb-0">Project List</h5>',new Choices("#member-positions",{searchEnabled:!1,placeholder:!1,itemSelectText:!1}),new Choices("#project-status",{searchEnabled:!1,placeholder:!1,itemSelectText:!1}),[].slice.call(document.querySelectorAll('[data-bs-toggle="tooltip"]')).map((function(e){return new bootstrap.Tooltip(e)})),t.on("draw",(function(){[].slice.call(document.querySelectorAll('[data-bs-toggle="tooltip"]')).map((function(e){return new bootstrap.Tooltip(e)}))}))}});e.querySelector("tbody").addEventListener("click",(function(e){if(e.target.classList.contains("delete-item")){const n=e.target.closest("tr");Swal.fire({title:"Are you sure?",text:"This action will delete the record permanently.",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, delete it!",cancelButtonText:"Cancel",reverseButtons:!0}).then((e=>{e.isConfirmed&&t.row(n).remove().draw()}))}})),setTimeout((function(){const e=document.querySelector(".dataTables_filter .form-control");e&&e.classList.remove("form-control-sm")}),300)}}));