"use strict";document.addEventListener("DOMContentLoaded",(function(){const e=document.querySelector(".dt-task-list");if(e){const t=new DataTable(e,{ajax:"assets/json/task-list.json",columns:[{data:"taskName"},{data:"taskName"},{data:"avatarImages"},{data:"dueDate"},{data:"priority"},{data:"status"},{data:"action"}],columnDefs:[{targets:0,searchable:!1,orderable:!1,render:function(e){return'<div class="bg-light w-20px h-20px mx-auto d-flex align-items-center justify-content-center rounded cursor-move"><i class="bi bi-list"></i></div>'}},{targets:1,render:function(e,t,s){const a=`todo${s.id}`;return`<div class="form-check mb-0">\n                                    <input class="form-check-input mb-0" type="checkbox" value="${s.id}" id="${a}">\n                                    <label class="form-check-label mb-0" for="${a}">${s.taskName}</label>\n                                </div>`}},{targets:2,render:function(e,t,s){return`\n                        <div class="avatar-group">\n                            ${(Array.isArray(s.avatarImages)?s.avatarImages:[s.avatarImages]).map((e=>`\n                                <div class="avatar-item">\n                                    <img src="${e}" alt="Avatar" class="img-fluid avatar-sm rounded-circle">\n                                </div>\n                            `)).join("")}\n                        </div>\n                    `}},{targets:3,render:function(e,t,s){return`<span>${s.dueDate}</span>`}},{targets:4,render:function(e,t,s){return{Todo:`<span class="badge bg-info-subtle text-info text-uppercase">${s.status}</span>`,InProgress:`<span class="badge bg-primary-subtle text-primary text-uppercase">${s.status}</span>`,OnHold:`<span class="badge bg-danger-subtle text-danger text-uppercase">${s.status}</span>`,Done:`<span class="badge bg-success-subtle text-success text-uppercase">${s.status}</span>`,Bug:`<span class="badge bg-secondary-subtle text-secondary text-uppercase">${s.status}</span>`}[s.status]||`<span class="badge bg-secondary">${s.status}</span>`}},{targets:5,render:function(e,t,s){return{High:`<span class="badge bg-danger text-uppercase">${s.priority}</span>`,Medium:`<span class="badge bg-warning text-uppercase">${s.priority}</span>`,Low:`<span class="badge bg-info text-uppercase">${s.priority}</span>`}[s.priority]||`<span class="badge bg-secondary">${s.priority}</span>`}},{targets:6,searchable:!1,orderable:!1,render:function(){return'\n                        <div class="hstack gap-2 fs-15">\n                            <a href="apps-tasks-kanban.html" class="btn icon-btn-sm btn-light-primary">\n                                <i class="ri-pencil-line"></i>\n                            </a>\n                            <a href="#!" class="btn icon-btn-sm btn-light-danger delete-item">\n                                <i class="ri-delete-bin-line"></i>\n                            </a>\n                        </div>\n                    '}}],order:[[1,"desc"]],dom:'<"card-header dt-head d-flex flex-column flex-sm-row justify-content-between align-items-center gap-3"<"head-label"><"d-flex flex-column flex-sm-row align-items-sm-center justify-content-end gap-3 w-100"f<"task_status">>><"table-responsive"t><"card-footer d-flex flex-column flex-sm-row justify-content-between align-items-center gap-2"i<"d-flex align-items-sm-center justify-content-end gap-4">p>',language:{sLengthMenu:"Show _MENU_",search:"",searchPlaceholder:"Search Task",paginate:{next:'<i class="ri-arrow-right-s-line"></i>',previous:'<i class="ri-arrow-left-s-line"></i>'}},lengthMenu:[10,20,50],pageLength:10,initComplete:function(){document.querySelector(".task_status").innerHTML='\n                <select id="task-status-select" class="form-select">\n                    <option value="all">All</option>\n                    <option value="Todo">Todo</option>\n                    <option value="InProgress">In Progress</option>\n                    <option value="Done">Done</option>\n                    <option value="Bug">Bug</option>\n                    <option value="OnHold">On Hold</option>\n                </select>\n            ';const e=document.querySelector("#task-status-select");new Choices("#task-status-select",{searchEnabled:!1,placeholder:!1,itemSelectText:!1}),e.addEventListener("change",(function(){const e=this.value;t.column(4).search("all"===e?"":e).draw()})),document.querySelector("div.head-label").innerHTML='<h5 class="card-title text-nowrap mb-0">Task List</h5>',document.querySelectorAll("td .form-check-input").forEach((e=>{e.addEventListener("change",(function(){const e=this.nextElementSibling,t=this.closest("tr").querySelector("td:nth-child(5)");this.checked?(e.style.textDecoration="line-through",t.innerHTML='<span class="badge bg-success-subtle text-success text-uppercase">Completed</span>'):(e.style.textDecoration="none",t.innerHTML='<span class="badge bg-info-subtle text-info text-uppercase">Todo</span>')}))}))}});e.querySelector("tbody").addEventListener("click",(function(e){if(e.target.classList.contains("delete-item")){const s=e.target.closest("tr");Swal.fire({title:"Are you sure?",text:"This action will delete the record permanently.",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, delete it!",cancelButtonText:"Cancel",reverseButtons:!0}).then((e=>{e.isConfirmed&&t.row(s).remove().draw()}))}})),setTimeout((function(){const e=document.querySelector(".dataTables_filter .form-control");e&&e.classList.remove("form-control-sm")}),300)}allCharts.push([{id:"task-overview",data:{chart:{height:220,parentHeightOffset:0,type:"donut"},labels:["In Progress","Todo","On Hold","Bug","Done"],series:[13,25,22,4,40],colors:["--bs-info","--bs-primary","--bs-danger","--bs-secondary","--bs-success"],stroke:{width:0},dataLabels:{enabled:!1},legend:{show:!1},plotOptions:{pie:{donut:{size:"75%",labels:{show:!0,value:{offsetY:-20},name:{offsetY:20},total:{show:!0,label:"Total Tasks"}}}}},responsive:[{breakpoint:550,options:{chart:{height:180}}}]}}])}));