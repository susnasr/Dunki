"use strict";document.addEventListener("DOMContentLoaded",(function(){const e=document.querySelector("#recent-order-table");if(e){const t=new DataTable(e,{ajax:"assets/json/recent-order.json",columns:[{data:"order_id"},{data:"order_id"},{data:"customer_name"},{data:"order_date"},{data:"order_status"},{data:"total_amount"},{data:"payment_method"},{data:"actions"}],columnDefs:[{targets:0,orderable:!1,checkboxes:{selectAllRender:'<input type="checkbox" class="form-check-input">'},render:function(){return'<input type="checkbox" class="dt-checkboxes form-check-input">'},searchable:!1},{targets:1,render:function(e,t,a){return`<span class="order-id-click cursor-pointer">#${a.order_id}</span>`}},{targets:2,render:function(e,t,a){return`<a href="#!"><span>${a.customer_name}</span></a>`}},{targets:3,render:function(e,t,a){return`<span>${new Date(a.order_date).toLocaleString()}</span>`}},{targets:4,render:function(e,t,a){return`$${a.total_amount.toFixed(2)}`}},{targets:5,searchable:!1,orderable:!1,render:function(e,t,a){return`<span>${a.payment_method}</span>`}},{targets:6,orderable:!1,render:function(e,t,a){return{Pending:`<span class="badge bg-info-subtle text-info">${a.order_status}</span>`,warning:`<span class="badge bg-primary-subtle text-primary">${a.order_status}</span>`,Shipped:`<span class="badge bg-warning-subtle text-warning">${a.order_status}</span>`,Delivered:`<span class="badge bg-success-subtle text-success">${a.order_status}</span>`}[a.order_status]||`<span class="badge bg-secondary">${a.order_status}</span>`}},{targets:7,searchable:!1,orderable:!1,render:function(e,t,a){return'<div class="dropdown">\n                                <a href="#!" class="btn btn-text-primary rounded-pill icon-btn-sm" data-bs-toggle="dropdown">\n                                    <i class="ri-more-2-line fs-16"></i>\n                                </a>\n                                <div class="dropdown-menu dropdown-menu-end">\n                                    <a href="apps-product-order-details.html" class="dropdown-item">View</a>\n                                    <a href="apps-product-order-list.html" class="dropdown-item">Edit</a>\n                                    <a href="#!" class="dropdown-item delete-item">Delete</a>\n                                </div>\n                            </div>'}}],order:[[2,"desc"]],dom:'<"card-header dt-head d-flex flex-column flex-sm-row justify-content-between align-items-center gap-3"<"head-label"><"d-flex flex-column flex-sm-row align-items-sm-center justify-content-end gap-3 w-100"f<"order_status">>><"table-responsive"t><"card-footer d-flex flex-column flex-sm-row justify-content-between align-items-center gap-2"i<"d-flex align-items-sm-center justify-content-end gap-4">p>',language:{sLengthMenu:"Show _MENU_",search:"",searchPlaceholder:"Search Orders",paginate:{next:'<i class="ri-arrow-right-s-line"></i>',previous:'<i class="ri-arrow-left-s-line"></i>'}},lengthMenu:[10,20,50],pageLength:7,initComplete:function(){document.querySelector(".order_status").innerHTML='\n                <select id="order-status-select" class="form-select">\n                    <option value="all">All</option>\n                    <option value="Pending">Pending</option>\n                    <option value="Shipped">Shipped</option>\n                    <option value="Delivered">Delivered</option>\n                </select>';const e=document.querySelector("#order-status-select");new Choices("#order-status-select",{searchEnabled:!1,placeholder:!1,itemSelectText:!1}),e.addEventListener("change",(function(){const e=this.value;t.column(6).search("all"===e?"":e).draw()})),document.querySelector("div.head-label").innerHTML='<h5 class="card-title text-nowrap mb-0">recent applications or tasks</h5>'}});e.querySelector("tbody").addEventListener("click",(function(e){if(e.target.classList.contains("order-id-click")){const a=e.target.closest("tr"),s=t.row(a).data().items_ordered;if(t.row(a).child.isShown())t.row(a).child.hide();else{let e=`\n                    <table class="table align-middle mb-0">\n                        <tbody>\n                            ${s.map((e=>`\n                                <tr>\n                                    <td colspan="2">\n                                        <div class="d-flex align-items-center gap-2">\n                                            <img src=${e.order_image} class="avatar-item img-fuild border-0 avatar rounded-2" alt=${e.item_name} />\n                                            <div class="d-flex flex-column text-muted">\n                                                <a href="#!" class="text-body fw-semibold">${e.item_name}</a>\n                                                <div class="fs-12 text-muted">${e.item_description}</div>\n                                            </div>\n                                        </div>\n                                    </td>\n                                    <td>\n                                        <div class="fw-semibold">Cost</div>\n                                        <div class="fs-12 text-muted">${e.item_price}</div>\n                                    </td>\n                                    <td>\n                                        <div class="fw-semibold">Qty</div>\n                                        <div class="fs-12 text-muted">${e.item_quantity}</div>\n                                    </td>\n                                    <td>\n                                        <div class="fw-semibold">Total</div>\n                                        <div class="fs-12 text-muted">${e.item_total}</div>\n                                    </td>\n                                    <td>\n                                        <div class="fw-semibold">Total</div>\n                                        <div class="fs-12 text-muted">${e.item_total}</div>\n                                    </td>\n                                    <td>\n                                        <div class="fw-semibold">On hand</div>\n                                        <div class="fs-12 text-muted">${e.order_status}</div>\n                                    </td>\n                                </tr>\n                            `)).join("")}\n                        </tbody>\n                    </table>`;t.row(a).child(e).show()}}})),e.querySelector("tbody").addEventListener("click",(function(e){if(e.target.classList.contains("delete-item")){const a=e.target.closest("tr");Swal.fire({title:"Are you sure?",text:"This action will delete the record permanently.",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, delete it!",cancelButtonText:"Cancel",reverseButtons:!0}).then((e=>{e.isConfirmed&&t.row(a).remove().draw()}))}})),setTimeout((function(){const e=document.querySelector(".dataTables_filter .form-control"),t=document.querySelector(".dataTables_length .form-select");e&&e.classList.remove("form-control-sm"),t&&t.classList.remove("form-select-sm")}),300)}allCharts.push([{id:"totalSalesDashborad",data:{chart:{height:70,type:"area",toolbar:{show:!1},sparkline:{enabled:!0}},colors:["--bs-warning"],stroke:{width:2,curve:"smooth"},fill:{type:"gradient",gradient:{shade:"light",shadeIntensity:.8,opacityFrom:.6,opacityTo:.5}},series:[{data:[387,386,387,385,386,384,384,384,386,389,387,387,386,386,385,386,387,385,384,385]}],tooltip:{enabled:!1}}}]),allCharts.push([{id:"totalOrdersDashborad",data:{chart:{height:70,type:"area",toolbar:{show:!1},sparkline:{enabled:!0}},colors:["--bs-danger"],stroke:{width:2,curve:"smooth"},fill:{type:"gradient",gradient:{shade:"light",shadeIntensity:.8,opacityFrom:.6,opacityTo:.5}},series:[{data:[387,386,387,385,386,384,384,384,386,389,387,387,386,386,385,386,387,385,384,385]}],tooltip:{enabled:!1}}}]),allCharts.push([{id:"totalEarningsDashborad",data:{chart:{height:70,type:"area",toolbar:{show:!1},sparkline:{enabled:!0}},colors:["--bs-success"],stroke:{width:2,curve:"smooth"},fill:{type:"gradient",gradient:{shade:"light",shadeIntensity:.8,opacityFrom:.6,opacityTo:.5}},series:[{data:[387,386,387,385,386,384,384,384,386,389,387,387,386,386,385,386,387,385,384,385]}],tooltip:{enabled:!1}}}]),allCharts.push([{id:"totalShipmentsDashboard",data:{chart:{height:70,type:"area",toolbar:{show:!1},sparkline:{enabled:!0}},colors:["--bs-info"],stroke:{width:2,curve:"smooth"},fill:{type:"gradient",gradient:{shade:"light",shadeIntensity:.8,opacityFrom:.6,opacityTo:.5}},series:[{data:[302,310,308,312,315,314,318,320,323,325,324,322,324,323,322,321,325,328,330,332]}],tooltip:{enabled:!1}}}]),allCharts.push([{id:"orderAnalyticsDashboard",data:{series:[{name:"Online Orders",data:[30,50,70,40,60,80,90,100,80,70,60,50]},{name:"Offline Orders",data:[20,30,40,20,30,50,60,70,50,40,30,20]}],chart:{type:"bar",stacked:!1,zoom:{enabled:!1},toolbar:{show:!1},height:255},plotOptions:{bar:{columnWidth:"30%",distributed:!1,borderRadius:4,borderRadiusApplication:"end"}},dataLabels:{enabled:!1},legend:{show:!1},labels:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],xaxis:{categories:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],axisBorder:{show:!1},axisTicks:{show:!1},crosshairs:{show:!0}},yaxis:{tickAmount:5,min:0,max:100,labels:{formatter:function(e){return e},offsetX:-10,offsetY:0},opposite:!1},grid:{strokeDashArray:3},colors:["--bs-primary","--bs-light"],tooltip:{marker:{show:!1},y:{formatter:function(e){return e}}}}}]);const t=document.querySelector("#top-product-select");t&&new Choices(t,{searchEnabled:!1,placeholder:!1,itemSelectText:!1})}));
